<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alca-Ride | Reserva</title>
    <link rel="stylesheet" href="/styles/reserva.css">
</head>


  <!--Encabezado y navbar-->
<body>
    <header class="encabezado">
        <a href="index.html"><img src="/images/Logo1.jpg" alt="Logo Alca-Ride"></a>
    </header>
    <nav class="navbar">
        <a href="index.html">Inicio</a>
        <a href="catalogo.html">Catálogo</a>
        <a href="condic.html">Condiciones</a>
        <a href="reserva.html">Reserva</a>
        <a href="contacto.html">Contacto</a>
     </nav>

	<div class="formReserva">			
        <h1>Formulario de reserva</h1>
	    <h3>Alca-Ride estudiará la reserva en base a este formulario y contactará contigo para la confirmación.</h3>
		
		<form action="submeter-formulario.php" method="post">
		
			<!--Menú desplegable para seleccionar moto,
		la primera opción está deshabilitada para que obligue
		a elegir una de las otras antes de enviar--> 

		<!--Chatgpt-->

		<label for="vehiculo">Vehículo:</label>
		<select id="vehiculo" name="vehiculo" required>
			<option value="" disabled selected hidden>Selecciona una opción</option>
				<option value="101">CUSTOM - Harley Davidson Road King</option>
                <option value="102">CUSTOM - Kawasaki Vulcan 900</option>
				<option value="103">CUSTOM - Indian Challenger Dark Horse</option>
				<option value="104">CUSTOM - KHonda CMX500 Rebel</option>

				<option value="201">ADVENTURE - BMW G1250GS Adventure</option>
                <option value="202">ADVENTURE - Kawasaki Versys 650</option>
				<option value="203">ADVENTURE - Honda Africa Twhin 1100</option>
				<option value="204">ADVENTURE - KTM 1290 Super Adventure</option>

				<option value="301">TURISMO - BMW R1250RT</option>
                <option value="302">TURISMO - Yamaha FJR1300AE</option>
				<option value="303">TURISMO - Honda Goldwing Tour</option>
				<option value="304">TURISMO - Suzuki Vstrom 1050</option>

				<option value="401">NAKED - Yamaha MT-07</option>
                <option value="402">NAKED - KTM Super Duke R 1290</option>
				<option value="403">NAKED - Suzuki GSX-S 750</option>
				<option value="404">NAKED - Honda CB 1000 R</option>
		</select>

		<div id="precioTotal"></div>

		<p>
            <label for="fechaRecogida" class="colocar_fecha_recogida">Fecha de recogida
                <span class="obligatorio">*</span>
            </label>
            <input type="date" name="introducir_fecha_recogida" id="fecha_recogida" required="obligatorio">
        </p>

		<p>
            <label for="fechaEntrega" class="colocar_fecha_entrega">Fecha de devolucion
                <span class="obligatorio">*</span>
            </label>
            <input type="date" name="introducir_fecha_devolucion" id="fecha_devolucion" required="obligatorio">
        </p>
		
		<div id="precioTotal"></div>
        
        <div class="priva">
            <input type="checkbox" id="privacidad" name="privacidad" required>
            <label for="confirmacion">Confirmo que he leído y acepto la <a href="/privacidad.html">política de privacidad</a>.</label>
        </div>
							
		<button type="submit" name="enviar_formulario" id="enviar"><p>Enviar</p></button>

		<p class="aviso">
		<span class="obligatorio"> * </span>los campos son obligatorios.
		</p>					
						
		</form>
		</div>
	</div>

     

    <!--FOOTER con los datos de política de privacidad, aviso legal y copyright-->
	<footer class="pie">
        <a href="privacidad.html" style="color: white;">Política de privacidad</a>
        <a href="legal.html" style="color: white;">Aviso legal</a>
        <p>Copyright Alca-Ride 2024 - Developed by Daniel Fernández</p>
	</footer>

<script>
	function calcularTotal() {
    const fechaRecogida = new Date(document.getElementById("fechaRecogida").value);
    const fechaEntrega = new Date(document.getElementById("fechaEntrega").value);
    const vehiculoSeleccionado = document.getElementById("vehiculo").value;

    // Calculamos la diferencia en milisegundos entre las fechas
    const diferenciaMilisegundos = fechaEntrega.getTime() - fechaRecogida.getTime();
    // Convertimos la diferencia de milisegundos a días
    const diferenciaDias = Math.ceil(diferenciaMilisegundos / (1000 * 60 * 60 * 24));

    // Precios por día para cada vehículo
    const precios = {
        101: 224,
        moto2: 60,
        moto3: 70
    };

    // Calculamos el precio total
    const precioPorDia = precios[vehiculoSeleccionado];
    const precioTotal = precioPorDia * diferenciaDias;

    // Mostramos el precio total
    document.getElementById("precioTotal").innerText = `Precio Total: $${precioTotal} (por ${diferenciaDias} días)`;
}

// Event listener para calcular el precio total cuando cambian las fechas de recogida o entrega, o el vehículo
document.getElementById("fechaRecogida").addEventListener("change", calcularTotal);
document.getElementById("fechaEntrega").addEventListener("change", calcularTotal);
document.getElementById("vehiculo").addEventListener("change", calcularTotal);
</script>
</body>
</html>